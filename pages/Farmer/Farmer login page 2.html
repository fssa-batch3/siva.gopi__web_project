<!DOCTYPE html>
<html lang="en">

<head>
    <title> farmer login page2</title>
    <link rel="stylesheet" href="../../assets/style.css/farmer login page2.css">
</head>


<body>


    <div class="container">
        <div class="header">
            <h2> Create Account</h2>
        </div>
        <form class="form" id="form"  onsubmit="registration(event)">
            <div class="form-con">
                <label> Farmer Name</label>
                <input type="text" id="name"  pattern="[a-zA-Z0-9]+" title="Required Name" required>
                <small>Error message</small>
            </div>

            <div class="form-con">
                <label> Mobile Number </label>
                <input type="tel" id="mobile_number" title="Required Mobile Number" required >
                <small>Error message</small>

            </div>

            <div class="form-con">
                <label> district</label>
                <input type="text" id="district" title="Required district" required>
                <small>Error message</small>

            </div>

            <div class="form-con">
                <label> Town</label>
                <input type="text" id="town" title="Required " required>
                <small>Error message</small>

            </div>

            <div class="form-con">
                <label> Password</label>
                <input type="password" id="password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" required >
                <small>Error message</small>

            </div>

            <div class="form-con">
                <label> Confrim password</label>
                <input type="password" id="confrim_password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" required>
                <small>Error message</small>

            </div>

            <a href="./Farmer home page 4.html"></a>

            <button>
                <a href="../Farmer/FARMER PAGE 1.html">
                    back
                </a>
            </button>



            <button type="submit"  > Submit </button> <a href=""></a>

        </form>

    </div>


    <script>

        // function registration(){
        //     console.log("dhanush oru loosu");

        //     const form = document.querySelector("#form")

        //     const userData = new FormData(form);

        //     let userList = [];

        //     userList.push({
        //         username : userData.get("username")
        //     })

        //     localStorage.setItem("userList",JSON.stringify(userList));
        // }



function  registration(e)
                {
                    e.preventDefault();
                    let name,mobile_number,district,town,password,confrim_password;

                    name = document.getElementById("name").value;
                    mobile_number = document.getElementById("mobile_number").value;
                    district=document.getElementById("district").value;
                    town=document.getElementById("town").value;
                    password=document.getElementById("password").value;
                    confrim_password=document.getElementById("confrim_password").value;

                    let farmer_details=new Array();
                    farmer_details=JSON.parse(localStorage.getItem("farmer"))?JSON.parse(localStorage.getItem("farmer")):[]

                    if(farmer_details.some((v)=>{return v.mobile_number==mobile_number}))
                    {
                        alert("mobile number alredy exicested");
                        
                    }
                    else
                    {
                        farmer_details.push({
                            "name":name,
                            "mobile_number":mobile_number,
                            "district":district,
                            "town":town,
                            "password":password,
                            "confrim_password":confrim_password,
                            

                        })
                        alert("Your account has been created")
                        location.href = "../../pages/Farmer/Farmer home page 4.html"
                        localStorage.setItem("farmer",JSON.stringify(farmer_details));
                        

                        
                    }
                    
                } 

        // // const submit = document.querySelector(".button");
        // // submit.

        // function registration() {
        //     // let name,mobile_number,district,town,password,confrim_password;

        //     const name = document.getElementById("name").value;
        //     const mobile_number = document.getElementById("mobile_number").value;
        //     const district = document.getElementById("district").value;
        //     const town = document.getElementById("town").value;
        //     const password = document.getElementById("password").value;
        //     const confrim_password = document.getElementById("confrim_password").value;


       



        //     if (name == "" && mobile_number == "" && district == "" && town == "" &&
        //         password == "" && confrim_password == "") {
        //         alert("  input  field has no value");
                
        //     }
        //     else if(mobile_number == mobile_number){
                 
        //             alert("mobile number alredy exicested");
        //         }
        //         else {
        //             alert("registration successfull");
        //             location.href = "./Farmer home page 4.html"
        //         }
            

        //     localStorage.setItem('name', name);
        //     localStorage.setItem('mobile_number', mobile_number);
        //     localStorage.setItem('district', district);
        //     localStorage.setItem('town', town);
        //     localStorage.setItem('password', password);
        //     localStorage.setItem('confrim_password', confrim_password);



        // }





    </script>

</body>


</html>
